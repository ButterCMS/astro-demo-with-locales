---
import MySiteLayout from "../layouts/MySiteLayout.astro";
import BlogPost from "../components/BlogPost.astro";

import SEO from "./SEOs.astro";
import BlogHeader from "../components/BlogHeader.astro";
import { butterCMS } from "../utils/buttercmssdk";

const data = await butterCMS.post
  .list({})
  .then((r) => {
    return r.data.data;
  })
  .catch((err) => {
    console.log(err);
  });
---

<head>
  <SEO
    title={`Sample Blog - all posts`}
    description={`Sample blog powered by ButterCMS, showing all posts`}
  />
</head>

<MySiteLayout>
  <BlogHeader title="All Blog Posts" text="All Blog Posts" />
  <BlogPost data={data} />
</MySiteLayout>
